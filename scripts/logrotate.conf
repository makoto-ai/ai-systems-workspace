# AI Systems ログローテーション設定

# アプリケーションログ
/app/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        /usr/bin/systemctl reload ai-systems-app > /dev/null 2>&1 || true
    endscript
}

# Dockerログ
/var/lib/docker/containers/*/*.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        /usr/bin/systemctl reload docker > /dev/null 2>&1 || true
    endscript
}

# システムログ
/var/log/syslog {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        /usr/bin/systemctl reload rsyslog > /dev/null 2>&1 || true
    endscript
}

# メトリクスログ
/app/logs/metrics.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        /usr/bin/systemctl reload collect-metrics > /dev/null 2>&1 || true
    endscript
}

# ログ収集ログ
/app/logs/log_collector.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        /usr/bin/systemctl reload collect-logs > /dev/null 2>&1 || true
    endscript
}

# バックアップログ
/app/logs/backup.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# エラーログ
/app/logs/error.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 root root
}

# アクセスログ
/app/logs/access.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
}

# デバッグログ
/app/logs/debug.log {
    daily
    missingok
    rotate 3
    compress
    delaycompress
    notifempty
    create 644 root root
}

# 統合テストログ
/app/logs/integration_test.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
}

# パフォーマンステストログ
/app/logs/performance_test.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
}

# セキュリティスキャンログ
/app/logs/security_scan.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Vaultログ
/app/logs/vault.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Prometheusログ
/app/logs/prometheus.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
}

# Grafanaログ
/app/logs/grafana.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
}

# OpenTelemetryログ
/app/logs/otel.log {
    daily
    missingok
    rotate 7
    compress
    delaycompress
    notifempty
    create 644 root root
} 