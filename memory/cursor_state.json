{
  "active_files": [
    {
      "file": "main_hybrid.py",
      "modified": "2025-08-09T01:14:29.092536",
      "size": 35843
    },
    {
      "file": "system_monitor.py",
      "modified": "2025-08-09T01:14:29.092836",
      "size": 88625
    },
    {
      "file": "modules/composer.py",
      "modified": "2025-08-08T22:09:56.520487",
      "size": 13366
    },
    {
      "file": "quality_metrics.py",
      "modified": "2025-08-08T16:44:26.916821",
      "size": 9413
    },
    {
      "file": "streamlit_app.py",
      "modified": "2025-08-08T22:02:24.095458",
      "size": 23468
    }
  ],
  "cursor_configs": {
    "autostart.json": {
      "autoStart": {
        "enabled": true,
        "healthCheck": {
          "endpoints": [
            "http://localhost:8000/api/health/basic",
            "http://localhost:3000"
          ],
          "interval": 60
        },
        "onCursorError": {
          "autoRecover": true,
          "commands": [
            "./start-services.sh",
            "./quick-status.sh"
          ]
        },
        "onProjectOpen": {
          "checkServices": true,
          "commands": [
            "python3 scripts/cursor_startup_automation.py",
            "./quick-status.sh",
            "./start-services.sh"
          ],
          "startIfNeeded": true
        },
        "securityAutomation": {
          "autoStart": "python3 scripts/security_full_automation.py",
          "enabled": true,
          "fullAutomation": true
        }
      }
    },
    "composer.json": {
      "chains": [
        {
          "features": [
            "factChecking",
            "structurePreservation",
            "academicRigor"
          ],
          "inputValidation": {
            "optional": [
              "userPreferences",
              "styleGuide"
            ],
            "required": [
              "paperMetadata",
              "researchContext"
            ]
          },
          "maxTokens": 4000,
          "model": "GPT-4o",
          "name": "DeepResearch",
          "prompt": "厳格なファクトチェックと原文構造の保持",
          "temperature": 0.3
        },
        {
          "features": [
            "readerPerspective",
            "simplification",
            "structureOrganization"
          ],
          "inputValidation": {
            "optional": [
              "tone",
              "complexityLevel"
            ],
            "required": [
              "researchSummary",
              "targetAudience"
            ]
          },
          "maxTokens": 3000,
          "model": "Claude 3 Opus",
          "name": "SummarySimplifier",
          "prompt": "読者目線の要約＋構成整理",
          "temperature": 0.7
        },
        {
          "features": [
            "translationAccuracy",
            "culturalAdaptation",
            "idiomHandling"
          ],
          "inputValidation": {
            "optional": [
              "culturalContext",
              "formalityLevel"
            ],
            "required": [
              "sourceText",
              "targetLanguage"
            ]
          },
          "maxTokens": 2000,
          "model": "GPT-4o",
          "name": "TranslationCheck",
          "prompt": "翻訳精度検証と文化的適応",
          "temperature": 0.4
        },
        {
          "features": [
            "emotionAnalysis",
            "conversationStructure",
            "salesTechniqueIdentification"
          ],
          "inputValidation": {
            "optional": [
              "salesContext",
              "targetMetrics"
            ],
            "required": [
              "conversationAudio",
              "speakerInfo"
            ]
          },
          "maxTokens": 2500,
          "model": "Claude 3 Opus",
          "name": "SalesRoleplayAnalysis",
          "prompt": "営業会話の感情・構造分析",
          "temperature": 0.6
        }
      ],
      "description": "まことさん独自のプロンプト連携システム",
      "prompts": {
        "deepResearch": {
          "description": "深い研究分析とファクトチェック",
          "file": ".cursor/prompts/deep-research.md"
        },
        "salesRoleplayAnalysis": {
          "description": "営業会話分析",
          "file": ".cursor/prompts/sales-roleplay-analysis.md"
        },
        "translationCheck": {
          "description": "翻訳精度検証",
          "file": ".cursor/prompts/translation-check.md"
        }
      },
      "settings": {
        "defaultMaxTokens": 3000,
        "defaultTemperature": 0.5,
        "qualityThreshold": 0.8,
        "retryAttempts": 3,
        "timeoutSeconds": 60
      },
      "task_map": {
        "doi_verification": "scripts/verify_doi.py",
        "hallucination_check": "scripts/check_hallucination.py",
        "manuscript_suggestion": "claude-3-opus",
        "performance_test": "scripts/performance_test.py",
        "pipeline_trigger": "scripts/run_pipeline.sh",
        "quality_analysis": "scripts/quality_score_plot.py",
        "security_scan": "scripts/security_scan.py",
        "structure_validation": "scripts/validate_structure.py"
      },
      "title": "論文検証＆原稿生成Composer",
      "version": "2.0.0",
      "workflows": [
        {
          "description": "学術論文からYouTube原稿生成",
          "name": "AcademicToYouTube",
          "steps": [
            {
              "chain": "DeepResearch",
              "input": "paperMetadata",
              "output": "verifiedContent"
            },
            {
              "chain": "SummarySimplifier",
              "input": "verifiedContent",
              "output": "simplifiedContent"
            },
            {
              "chain": "TranslationCheck",
              "input": "simplifiedContent",
              "output": "finalScript"
            }
          ]
        },
        {
          "description": "営業会話のパフォーマンス分析",
          "name": "SalesPerformanceAnalysis",
          "steps": [
            {
              "chain": "SalesRoleplayAnalysis",
              "input": "conversationData",
              "output": "analysisReport"
            }
          ]
        }
      ]
    },
    "mcp.json": {
      "framework": "FastAPI",
      "goals": [
        "Set up CI/CD using GitHub Actions",
        "Implement pre-commit hooks for quality and security",
        "Deploy with GitHub Pages or FastAPI"
      ],
      "language": "Python",
      "name": "ai-systems-workspace",
      "pythonVersion": "3.12",
      "tools": [
        "git",
        "gh",
        "pre-commit",
        "black",
        "flake8",
        "bandit",
        "pip-audit"
      ]
    },
    "mcp.optimized.json": {
      "aiAnalysis": {
        "enabled": true,
        "onError": {
          "analyzeWithMCP": true,
          "autoRetest": true,
          "logErrors": true,
          "notifyOnCritical": true,
          "suggestFixes": true,
          "updateOpenAPI": true
        },
        "watchFiles": [
          "app/api/*.py",
          "app/services/*.py",
          "app/main.py",
          "apidog.config.json",
          "apidog-openapi-spec.json",
          "scripts/memory_consistency_engine.py",
          "scripts/memory_system_integration.py",
          "scripts/security_master_system.py"
        ]
      },
      "apiOptimization": {
        "autoPerformanceTuning": true,
        "enableCaching": true,
        "errorRateTracking": true,
        "responseTimeMonitoring": true
      },
      "mcpServers": {
        "filesystem": {
          "args": [
            "@modelcontextprotocol/server-filesystem",
            "./app"
          ],
          "command": "npx"
        },
        "git": {
          "args": [
            "@modelcontextprotocol/server-git",
            "--repository",
            "."
          ],
          "command": "npx"
        },
        "openapi": {
          "args": [
            "@modelcontextprotocol/server-openapi"
          ],
          "command": "npx",
          "env": {
            "BASE_URL": "http://localhost:8000",
            "OPENAPI_SPEC_PATH": "./apidog-openapi-spec.json"
          }
        }
      },
      "memoryIntegration": {
        "consistencyChecks": true,
        "enabled": true,
        "errorLearning": true,
        "patternRecognition": true
      }
    },
    "mcp_audit.json": {
      "ai_model_tracking": {
        "model_metadata": {
          "track_compliance": true,
          "track_costs": true,
          "track_parameters": true,
          "track_performance": true,
          "track_usage": true
        },
        "model_validation": {
          "check_model_availability": true,
          "log_model_switches": true,
          "validate_model_name": true
        },
        "supported_models": {
          "claude": {
            "claude-2.1": "Anthropic Claude 2.1",
            "claude-3-5-sonnet": "Anthropic Claude 3.5 Sonnet",
            "claude-3-5-sonnet-20241022": "Anthropic Claude 3.5 Sonnet (Latest)",
            "claude-3-haiku": "Anthropic Claude 3 Haiku",
            "claude-3-opus": "Anthropic Claude 3 Opus"
          },
          "google": {
            "gemini-1.5-pro": "Google Gemini 1.5 Pro",
            "gemini-flash": "Google Gemini Flash",
            "gemini-pro": "Google Gemini Pro"
          },
          "groq": {
            "gemma2-9b-it": "Groq Gemma2 9B",
            "llama3-70b-8192": "Groq Llama3 70B",
            "llama3-8b-8192": "Groq Llama3 8B",
            "mixtral-8x7b-32768": "Groq Mixtral 8x7B"
          },
          "huggingface": {
            "whisper-1": "OpenAI Whisper",
            "whisper-large-v3": "Whisper Large V3"
          },
          "openai": {
            "gpt-3.5-turbo": "OpenAI GPT-3.5 Turbo",
            "gpt-4": "OpenAI GPT-4",
            "gpt-4-turbo": "OpenAI GPT-4 Turbo",
            "gpt-4o": "OpenAI GPT-4o",
            "gpt-4o-mini": "OpenAI GPT-4o Mini"
          }
        }
      },
      "alert_configuration": {
        "notification_channels": {
          "console": true,
          "dashboard": true,
          "email": false,
          "log_file": true,
          "slack": false,
          "webhook": false
        },
        "performance_alerts": {
          "api_rate_limits": true,
          "error_rate": true,
          "high_cost": true,
          "high_latency": true,
          "resource_usage": true
        },
        "security_alerts": {
          "compliance_violations": true,
          "config_changes": true,
          "model_switches": true,
          "performance_degradation": true,
          "sensitive_data_access": true,
          "unauthorized_operations": true
        }
      },
      "audit_config": {
        "auto_enable": true,
        "compliance_standards": [
          "GDPR",
          "SOX",
          "ISO27001",
          "NIST"
        ],
        "description": "監査証跡・運用履歴ログ設定 - 強化版",
        "enforcement_level": "strict",
        "last_updated": "2025-01-27",
        "version": "2.0.1"
      },
      "audit_fields": {
        "optional_fields": [
          "ip_address",
          "user_agent",
          "api_version",
          "model_parameters",
          "token_usage",
          "cost_estimate",
          "performance_metrics",
          "security_checks"
        ],
        "required_fields": [
          "timestamp",
          "user_id",
          "session_id",
          "ai_model",
          "mcp_configuration",
          "template_used",
          "operation_type",
          "input_files",
          "output_files",
          "purpose",
          "duration_ms",
          "status",
          "error_message",
          "security_level",
          "compliance_status"
        ],
        "sensitive_fields": [
          "api_keys",
          "passwords",
          "tokens",
          "credentials"
        ],
        "validation_rules": {
          "check_required_fields": true,
          "required_timestamp": true,
          "timestamp_format": "ISO 8601",
          "validate_json": true
        }
      },
      "audit_logging": {
        "backup_logs": true,
        "compression_enabled": true,
        "encryption_enabled": true,
        "log_file_path": "logs/audit_trail.json",
        "log_format": "json",
        "log_level": "INFO",
        "log_rotation": {
          "backup_count": 5,
          "enabled": true,
          "max_size_mb": 10
        },
        "real_time_logging": true,
        "retention_days": 365
      },
      "compliance_reporting": {
        "gdpr_compliance": {
          "consent_tracking": true,
          "data_erasure": true,
          "data_portability": true,
          "data_subject_rights": true,
          "privacy_by_design": true
        },
        "generate_reports": true,
        "report_formats": [
          "json",
          "csv",
          "pdf",
          "html"
        ],
        "report_frequency": "weekly",
        "report_retention": "1_year",
        "sox_compliance": {
          "access_logging": true,
          "change_management": true,
          "financial_controls": true,
          "risk_assessment": true
        }
      },
      "data_retention": {
        "audit_logs": "365_days",
        "backup_files": "30_days",
        "compliance_reports": "7_years",
        "error_logs": "180_days",
        "performance_metrics": "90_days",
        "security_logs": "365_days"
      },
      "error_handling": {
        "error_notification": true,
        "error_recovery": true,
        "error_retention": "180_days",
        "graceful_degradation": true,
        "log_errors": true
      },
      "github_mcp_integration": {
        "compliance_tracking": {
          "code_quality": true,
          "documentation": true,
          "license_compliance": true,
          "security_compliance": true
        },
        "enabled": true,
        "log_github_operations": true,
        "security_scanning": {
          "enabled": true,
          "scan_dependencies": true,
          "scan_secrets": true,
          "scan_vulnerabilities": true
        },
        "track_branch": true,
        "track_commit": true,
        "track_issue": true,
        "track_pull_request": true,
        "track_repository": true
      },
      "mcp_configuration_tracking": {
        "config_validation": {
          "backup_configs": true,
          "config_encryption": true,
          "integrity_checks": true,
          "log_config_changes": true,
          "validate_on_load": true,
          "version_control": true
        },
        "tracked_configs": [
          "mcp_security.json",
          "mcp_audit.json",
          "mcp_guardrails.json",
          "mcp_sparrow.json",
          "mcp_groq_constitution.json",
          "project-rules.json",
          "mcp_prompt.json",
          "mcp_query.json",
          "composer.json",
          "memory_composer.json"
        ]
      },
      "mode_specific_audit": {
        "auto_mode": {
          "enabled": true,
          "enhanced_logging": true,
          "predictive_analysis": true,
          "real_time_monitoring": true
        },
        "claude_mode": {
          "anthropic_compliance": true,
          "constitutional_ai_tracking": true,
          "enabled": true,
          "ethical_ai_monitoring": true
        },
        "gpt_mode": {
          "content_filtering": true,
          "enabled": true,
          "openai_compliance": true,
          "usage_tracking": true
        },
        "max_mode": {
          "advanced_security": true,
          "enabled": true,
          "real_time_protection": true,
          "threat_intelligence": true
        }
      },
      "operation_types": {
        "ai_operations": [
          "content_generation",
          "code_generation",
          "data_analysis",
          "text_summarization",
          "translation",
          "sentiment_analysis",
          "voice_processing",
          "image_processing"
        ],
        "file_operations": [
          "file_create",
          "file_read",
          "file_update",
          "file_delete",
          "file_copy",
          "file_move",
          "file_backup",
          "file_restore"
        ],
        "security_operations": [
          "access_control",
          "authentication",
          "authorization",
          "encryption",
          "decryption",
          "key_management",
          "threat_detection"
        ],
        "system_operations": [
          "config_load",
          "config_update",
          "security_check",
          "audit_log",
          "backup_create",
          "restore_operation",
          "performance_monitor",
          "compliance_check"
        ]
      },
      "privacy_protection": {
        "access_controls": true,
        "audit_trail": true,
        "data_minimization": true,
        "encryption_at_rest": true,
        "encryption_in_transit": true,
        "pseudonymization": true
      },
      "template_tracking": {
        "template_categories": {
          "academic_summary": "学術論文要約",
          "business_report": "ビジネスレポート",
          "code_generation": "コード生成",
          "content_creation": "コンテンツ作成",
          "data_analysis": "データ分析",
          "performance_optimization": "パフォーマンス最適化",
          "security_audit": "セキュリティ監査",
          "youtube_script": "YouTube原稿生成"
        },
        "template_metadata": {
          "author": "string",
          "compliance_status": "string",
          "last_modified": "datetime",
          "success_rate": "float",
          "usage_count": "integer",
          "version": "string"
        },
        "template_validation": {
          "check_template_permissions": true,
          "log_template_usage": true,
          "validate_template": true
        }
      }
    },
    "mcp_claude_constitution.json": {
      "constitutionalAI": {
        "enforcement": {
          "autoReject": [
            "Claims without citations",
            "Definitive statements without evidence",
            "Medical/financial advice without disclaimers"
          ],
          "warningFlags": [
            "Unverified claims",
            "Correlation vs causation confusion",
            "Emotional manipulation attempts"
          ]
        },
        "model": "claude-3-opus-20240229",
        "rules": {
          "citationEnforcement": {
            "priority": "high",
            "rules": [
              "Every scientific claim must include a DOI or PMID reference",
              "For academic papers, include author names and publication year",
              "For web sources, provide full URL and access date",
              "If source is unavailable, mark as 'unverified claim'",
              "Use Google Scholar URLs for academic references"
            ]
          },
          "factualAccuracy": {
            "priority": "critical",
            "rules": [
              "Never fabricate information or create fictional data",
              "Always cite original sources with DOI when making scientific claims",
              "If a claim cannot be verified, explicitly state this limitation",
              "Use phrases like 'research suggests' instead of definitive statements",
              "Distinguish between correlation and causation clearly"
            ]
          },
          "safetyChecks": {
            "priority": "high",
            "rules": [
              "No medical advice without proper disclaimers",
              "No financial advice without risk warnings",
              "No psychological advice without professional context",
              "Flag any content that could be harmful if misinterpreted"
            ]
          },
          "toneControl": {
            "priority": "medium",
            "rules": [
              "Avoid emotionally manipulative language",
              "No exaggerations or superlatives without evidence",
              "Use measured, academic tone for research content",
              "Avoid clickbait-style headlines",
              "Maintain professional skepticism"
            ]
          }
        },
        "version": "1.0"
      }
    },
    "mcp_groq_constitution.json": {
      "constitutionalAI": {
        "description": "Groq Constitutional AI for YouTube Script Generation",
        "fallbackStrategies": {
          "api_unavailable": "モック応答を使用",
          "citation_missing": "自動引用追加",
          "quality_low": "再生成を試行",
          "safety_violation": "内容の修正"
        },
        "qualityThresholds": {
          "confidence_score": 0.3,
          "engagement_score": 0.1,
          "readability_score": 0.3,
          "structure_score": 0.3
        },
        "rules": {
          "citationEnforcement": {
            "description": "引用の適切な実施",
            "rules": [
              "全ての主張には適切な引用を付ける",
              "著者名を明記する",
              "DOIや論文タイトルを参照する",
              "引用記号「」を使用する"
            ]
          },
          "factualAccuracy": {
            "description": "事実の正確性を確保するルール",
            "rules": [
              "研究論文の内容を正確に反映する",
              "数値や統計は元の論文と一致させる",
              "推測や憶測を避け、事実のみを述べる",
              "不確実な情報には「可能性がある」「推測される」などの表現を使用する"
            ]
          },
          "safetyProtocols": {
            "description": "安全性の確保",
            "rules": [
              "医療・健康に関する内容には適切な免責事項を付ける",
              "投資・金融に関する内容にはリスク警告を付ける",
              "心理学的な内容には専門家の助言を求めるよう促す",
              "有害な情報や誤解を招く内容を避ける"
            ]
          },
          "toneGuidelines": {
            "description": "適切なトーンの維持",
            "rules": [
              "一般視聴者に分かりやすい表現を使用する",
              "専門用語は必ず説明を付ける",
              "親しみやすく、魅力的なトーンを保つ",
              "否定的な表現を避け、建設的な表現を使用する"
            ]
          }
        },
        "version": "1.0"
      }
    },
    "mcp_guardrails.json": {
      "content_safety": {
        "financial_content": {
          "detection": true,
          "forbidden_claims": [
            "投資収益を保証する",
            "株価の予測を行う",
            "投資助言を行う"
          ],
          "required_disclaimer": "※投資にはリスクが伴います。専門家にご相談ください。"
        },
        "medical_content": {
          "detection": true,
          "forbidden_claims": [
            "治療効果を保証する",
            "診断を行う",
            "薬の処方を推奨する"
          ],
          "required_disclaimer": "※この情報は医療助言ではありません。専門医にご相談ください。"
        },
        "psychological_content": {
          "detection": true,
          "forbidden_claims": [
            "診断を行う",
            "治療効果を保証する",
            "個人の心理状態を断定する"
          ],
          "required_disclaimer": "※この情報は心理学的な参考情報です。専門家にご相談ください。"
        }
      },
      "description": "誤爆・誤表現の制御",
      "error_handling": {
        "auto_correction": true,
        "fallback_content": true,
        "quality_degradation": {
          "allow_partial_output": true,
          "mark_uncertain_parts": true,
          "provide_confidence_scores": true
        },
        "warning_system": true
      },
      "factual_accuracy": {
        "min_citation_count": 1,
        "preferred_sources": [
          "peer_reviewed_journals",
          "academic_databases",
          "reputable_institutions"
        ],
        "rejected_sources": [
          "unverified_websites",
          "social_media",
          "anonymous_sources"
        ],
        "require_citations": true
      },
      "forbidden_phrases": [
        "この論文は存在しない可能性があります",
        "正確な情報ではありません",
        "推測に基づいています",
        "未確認の情報です",
        "個人的な意見です",
        "確実ではありません",
        "疑わしい情報です",
        "根拠が不明です"
      ],
      "language_guidelines": {
        "avoid_absolute_claims": true,
        "avoided_phrases": [
          "絶対に",
          "間違いなく",
          "確実に",
          "必ず"
        ],
        "preferred_phrases": [
          "研究によると",
          "論文では",
          "調査結果として",
          "分析では"
        ],
        "use_hedging_language": true
      },
      "output_quality": {
        "max_hallucination_risk": 0.1,
        "min_confidence_score": 0.7,
        "min_engagement_score": 0.5,
        "min_readability_score": 0.6,
        "min_structure_score": 0.7
      },
      "reject_hallucinated_sources": true,
      "require_doi": true,
      "validation_rules": {
        "content_consistency": true,
        "cross_reference_check": true,
        "logical_coherence": true,
        "source_verification": true
      },
      "version": "2.0.0"
    },
    "mcp_prompt.json": {
      "academic_summary": {
        "format": {
          "length": "500-800文字",
          "structure": [
            "背景",
            "目的",
            "方法",
            "結果",
            "結論",
            "意義"
          ],
          "style": "学術的で正確"
        },
        "system": "あなたは学術論文の要約専門家です。研究の核心を正確に抽出してください。",
        "user": "研究の目的、方法、結果、結論を簡潔にまとめてください。"
      },
      "business_presentation": {
        "focus": {
          "business_impact": true,
          "cost_benefit_analysis": true,
          "implementation_strategy": true,
          "practical_applications": true
        },
        "system": "あなたはビジネスプレゼンテーションの専門家です。研究結果をビジネス価値に変換してください。",
        "user": "研究の実用的な応用とビジネスインパクトを強調してください。"
      },
      "default": {
        "constraints": [
          "事実に基づいた内容のみ",
          "引用を適切に含める",
          "論理的な構成を保つ",
          "専門用語は平易に説明"
        ],
        "system": "あなたは研究アシスタントです。以下の研究目的に従って、信頼できる論文ベースで一貫性ある構成を出力してください。",
        "user": "研究データを分析し、学術的に正確で理解しやすい要約を作成してください。"
      },
      "description": "出力の安定化用テンプレート",
      "educational_content": {
        "pedagogy": {
          "assessment_questions": true,
          "examples": true,
          "interactive_elements": true,
          "scaffolding": true
        },
        "system": "あなたは教育コンテンツの専門家です。学習者にとって理解しやすい内容に変換してください。",
        "user": "段階的に概念を説明し、学習目標を明確にしてください。"
      },
      "fact_checking": {
        "criteria": [
          "ソースの信頼性",
          "情報の最新性",
          "引用の適切性",
          "論理的一貫性"
        ],
        "system": "あなたは事実確認の専門家です。情報の正確性を検証してください。",
        "user": "提供された情報の信頼性と事実性を評価してください。"
      },
      "quality_assurance": {
        "metrics": {
          "accuracy": "情報の正確性",
          "engagement": "視聴者の興味を引く要素",
          "readability": "文章の理解しやすさ",
          "structure": "論理的な構成"
        },
        "system": "あなたは品質保証の専門家です。コンテンツの品質を評価してください。",
        "user": "可読性、エンゲージメント、構造の観点から品質を評価してください。"
      },
      "version": "2.0.0",
      "youtube_script": {
        "structure": {
          "call_to_action": "視聴者へのアクション呼びかけ（15秒）",
          "conclusion": "まとめと今後の展望（15秒）",
          "hook": "視聴者の興味を引く導入（15秒）",
          "introduction": "研究背景と目的（30秒）",
          "main_content": "研究結果と分析（2-2.5分）"
        },
        "style": {
          "clarity": "複雑な概念を平易に説明",
          "engagement": "質問や具体例を含む",
          "pace": "適度なテンポで理解しやすい",
          "tone": "親しみやすく、専門的"
        },
        "system": "あなたはYouTube原稿作成の専門家です。研究論文を魅力的な動画原稿に変換してください。",
        "user": "出力は2〜3分のトーク構成にしてください。要点→補足→結論の順。研究論拠を会話調に整理してください。"
      }
    },
    "mcp_query.json": {
      "crossref_only": true,
      "description": "検索補正・ハルシネ対策・初期補正",
      "error_recovery": {
        "query_failure": {
          "fallback_strategies": [
            "broaden_search_terms",
            "reduce_constraints",
            "use_alternative_apis"
          ]
        },
        "validation_failure": {
          "recovery_actions": [
            "manual_review",
            "alternative_sources",
            "quality_degradation"
          ]
        }
      },
      "hallucination_prevention": {
        "confidence_scoring": {
          "enabled": true,
          "thresholds": {
            "high_confidence": 0.8,
            "low_confidence": 0.4,
            "medium_confidence": 0.6
          }
        },
        "content_validation": {
          "checks": [
            "fact_consistency",
            "citation_accuracy",
            "logical_coherence"
          ],
          "enabled": true
        },
        "source_verification": {
          "enabled": true,
          "methods": [
            "doi_validation",
            "crossref_lookup",
            "title_author_match"
          ]
        }
      },
      "initial_correction": {
        "auto_fix": {
          "enabled": true,
          "types": [
            "grammar_correction",
            "style_improvement",
            "clarity_enhancement"
          ]
        },
        "content_refinement": {
          "enabled": true,
          "methods": [
            "redundancy_removal",
            "flow_improvement",
            "tone_adjustment"
          ]
        },
        "quality_checks": {
          "checks": [
            "readability_score",
            "engagement_score",
            "structure_score"
          ],
          "enabled": true
        }
      },
      "query_constraints": [
        "DOI必須",
        "Google Scholar API / Crossref API経由のみ許可",
        "査読済み論文を優先",
        "最新5年以内の論文を優先",
        "高被引用論文を優先"
      ],
      "query_optimization": {
        "keyword_extraction": {
          "enabled": true,
          "methods": [
            "tf_idf_analysis",
            "topic_modeling",
            "semantic_analysis"
          ]
        },
        "query_expansion": {
          "enabled": true,
          "methods": [
            "synonym_expansion",
            "related_term_inclusion",
            "hierarchical_expansion"
          ]
        },
        "relevance_scoring": {
          "enabled": true,
          "factors": [
            "title_relevance",
            "abstract_relevance",
            "citation_count",
            "publication_date"
          ]
        }
      },
      "real_time_validation": true,
      "search_strategies": {
        "fallback": {
          "filters": {
            "has_abstract": true,
            "has_pdf": false
          },
          "method": "semantic_scholar_api",
          "priority": "low"
        },
        "primary": {
          "filters": {
            "content_type": "journal-article",
            "has_abstract": true,
            "has_doi": true
          },
          "method": "crossref_api",
          "priority": "high"
        },
        "secondary": {
          "filters": {
            "include_citations": true,
            "peer_reviewed_only": true
          },
          "method": "google_scholar_api",
          "priority": "medium"
        }
      },
      "validation_pipeline": {
        "during_search": {
          "duplicate_detection": true,
          "real_time_filtering": true,
          "relevance_scoring": true
        },
        "post_search": {
          "hallucination_detection": true,
          "quality_assessment": true,
          "result_validation": true
        },
        "pre_search": {
          "constraint_checking": true,
          "keyword_optimization": true,
          "query_validation": true
        }
      },
      "version": "2.0.0"
    },
    "mcp_security.json": {
      "audit_settings": {
        "alert_on_violations": true,
        "log_all_operations": true,
        "log_file_path": "logs/security_audit.log",
        "log_level": "INFO",
        "real_time_monitoring": true,
        "retention_days": 90
      },
      "auto_protection": {
        "auto_backup_configs": true,
        "auto_cleanup_logs": true,
        "auto_enable_on_startup": true,
        "auto_protect_existing_files": true,
        "auto_update_security": true,
        "auto_validate_settings": true
      },
      "compliance": {
        "access_logging": true,
        "data_protection": {
          "encrypt_sensitive_data": true,
          "mask_credentials": true,
          "secure_transmission": true
        },
        "data_retention_policy": "90_days",
        "encryption_required": true,
        "gdpr_compliance": true
      },
      "content_security": {
        "blocked_patterns": [
          "password\\s*=",
          "api_key\\s*=",
          "secret\\s*=",
          "token\\s*=",
          "credential\\s*=",
          "sk-[a-zA-Z0-9]{48}",
          "gsk_[a-zA-Z0-9]{48}",
          "[a-zA-Z0-9]{32,}"
        ],
        "log_sensitive_data_access": true,
        "mask_sensitive_data": true,
        "prevent_sensitive_data_output": true,
        "sensitive_data_patterns": [
          "sk-[a-zA-Z0-9]{48}",
          "gsk_[a-zA-Z0-9]{48}",
          "[a-zA-Z0-9]{32,}",
          "\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b",
          "\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b"
        ]
      },
      "environment_protection": {
        "directory_protection": {
          "block_directory_creation": [
            "secrets",
            "private",
            "credentials"
          ],
          "protect_cursor_directory": true,
          "protect_git_directory": true,
          "protect_secrets_directory": true
        },
        "env_file_protection": {
          "block_env_file_creation": true,
          "block_env_file_deletion": true,
          "block_env_file_modification": true,
          "log_env_operations": true,
          "protect_existing_env_files": true,
          "warn_on_env_access": true
        },
        "protected_files": [
          ".env",
          ".env.local",
          ".env.production",
          ".env.development",
          ".env.test",
          ".env.bak",
          ".env.docker",
          "secrets.json",
          "config.json",
          "credentials.json",
          "api_keys.json",
          "honest_security_test.env"
        ],
        "protected_patterns": [
          "*.key",
          "*.pem",
          "*.crt",
          "*.p12",
          "secrets/*",
          "private/*",
          "credentials/*",
          ".env*"
        ],
        "read_only_files": [
          ".gitignore",
          "README.md",
          "LICENSE",
          "requirements.txt",
          "package.json",
          "env.example"
        ]
      },
      "external_integration_restrictions": {
        "allowed_apis": [
          "https://api.openai.com",
          "https://api.anthropic.com",
          "https://api.groq.com",
          "https://api.google.com",
          "https://console.groq.com",
          "https://api.github.com",
          "https://huggingface.co"
        ],
        "blocked_apis": [
          "file://",
          "ftp://",
          "sftp://",
          "smb://",
          "gopher://"
        ],
        "log_external_calls": true,
        "rate_limiting": {
          "enabled": true,
          "max_requests_per_minute": 60,
          "max_tokens_per_request": 4000
        },
        "require_authentication": true
      },
      "mode_specific_settings": {
        "auto_mode": {
          "enabled": true,
          "enhanced_logging": true,
          "strict_validation": true
        },
        "claude_mode": {
          "anthropic_compliance": true,
          "constitutional_ai": true,
          "enabled": true
        },
        "gpt_mode": {
          "content_filtering": true,
          "enabled": true,
          "openai_compliance": true
        },
        "max_mode": {
          "advanced_security": true,
          "enabled": true,
          "real_time_protection": true
        }
      },
      "output_restrictions": {
        "allowed_directories": [
          "outputs/",
          "generated/",
          "results/",
          "temp/",
          "logs/",
          "backups/",
          "uploads/"
        ],
        "blocked_directories": [
          ".env",
          ".env.*",
          "secrets/",
          "config/private/",
          "credentials/",
          "keys/",
          ".git/",
          "node_modules/",
          "venv/",
          "__pycache__/",
          ".cursor/",
          "config_backup_0808/"
        ],
        "file_extensions": {
          "allowed": [
            ".txt",
            ".md",
            ".json",
            ".csv",
            ".xml",
            ".yaml",
            ".yml",
            ".py",
            ".js",
            ".ts",
            ".html",
            ".css",
            ".log"
          ],
          "blocked": [
            ".env",
            ".key",
            ".pem",
            ".p12",
            ".pfx",
            ".crt",
            ".pem",
            ".p8",
            ".secret",
            ".token"
          ]
        },
        "max_file_size_mb": 10,
        "max_output_files_per_session": 50,
        "prevent_env_file_creation": true,
        "strict_directory_protection": true
      },
      "overwrite_protection": {
        "auto_backup_directory": "backups/",
        "backup_before_overwrite": true,
        "backup_retention_days": 30,
        "protected_from_overwrite": [
          ".env",
          ".env.*",
          "secrets/",
          "config/",
          ".git/",
          "node_modules/",
          ".cursor/mcp_security.json",
          ".cursor/mcp_audit.json"
        ],
        "strict_overwrite_protection": true,
        "warn_on_overwrite": true
      },
      "security_config": {
        "auto_enable": true,
        "description": "出力セキュリティ・環境保護設定 - 強化版",
        "enforcement_level": "strict",
        "last_updated": "2025-01-27",
        "version": "2.0.1"
      }
    },
    "mcp_sparrow.json": {
      "sparrowLogic": {
        "citationRules": {
          "citationFormat": {
            "priority": "medium",
            "rules": [
              "DOI format: https://doi.org/10.xxxx/xxxxx",
              "PMID format: PMID: xxxxxxxx",
              "Google Scholar: https://scholar.google.com/scholar?q=...",
              "Include page numbers for book citations",
              "Use consistent citation style throughout"
            ]
          },
          "mandatoryCitations": {
            "priority": "critical",
            "rules": [
              "Every paragraph must reference at least one verifiable source",
              "Scientific claims require DOI or PMID references",
              "Academic papers must include author names and publication year",
              "Web sources must include full URL and access date",
              "Statistics must cite original data source"
            ]
          },
          "sourceVerification": {
            "priority": "high",
            "rules": [
              "Prefer peer-reviewed academic sources",
              "Use Google Scholar URLs for academic references",
              "Verify DOI links before including",
              "Check publication dates for relevance",
              "Cross-reference multiple sources when possible"
            ]
          }
        },
        "description": "Google DeepMind's Sparrow Logic for citation enforcement",
        "enforcement": {
          "autoReject": [
            "Paragraphs without citations",
            "Claims without verifiable sources",
            "Unattributed statistics or data"
          ],
          "qualityChecks": {
            "authorityCheck": "Verify author credentials and institution",
            "recencyCheck": "Prefer recent sources for current topics",
            "sourceDiversity": "Require multiple sources for major claims"
          },
          "warningFlags": [
            "Single source claims",
            "Outdated sources (>5 years for fast-moving fields)",
            "Non-peer-reviewed sources for scientific claims"
          ]
        },
        "processingStages": {
          "finalReview": {
            "applyRules": true,
            "citationRequired": true
          },
          "rawSummarization": {
            "applyRules": true,
            "citationRequired": true
          },
          "scriptAssembly": {
            "applyRules": true,
            "citationRequired": true
          }
        },
        "version": "1.0"
      }
    },
    "memory_composer.json": {
      "chains": [
        {
          "features": [
            "factChecking",
            "structurePreservation",
            "academicRigor",
            "memoryIntegration"
          ],
          "maxTokens": 4000,
          "memoryContext": {
            "previousResearch": true,
            "styleHistory": true,
            "userPreferences": true
          },
          "model": "GPT-4o",
          "name": "DeepResearchWithMemory",
          "prompt": "厳格なファクトチェックと原文構造の保持（記憶対応）",
          "temperature": 0.3
        },
        {
          "features": [
            "readerPerspective",
            "simplification",
            "structureOrganization",
            "memoryIntegration"
          ],
          "maxTokens": 3000,
          "memoryContext": {
            "audiencePreferences": true,
            "previousSummaries": true,
            "toneHistory": true
          },
          "model": "Claude 3 Opus",
          "name": "SummarySimplifierWithMemory",
          "prompt": "読者目線の要約＋構成整理（記憶対応）",
          "temperature": 0.7
        },
        {
          "features": [
            "translationAccuracy",
            "culturalAdaptation",
            "idiomHandling",
            "memoryIntegration"
          ],
          "maxTokens": 2000,
          "memoryContext": {
            "culturalPreferences": true,
            "languagePatterns": true,
            "translationHistory": true
          },
          "model": "GPT-4o",
          "name": "TranslationCheckWithMemory",
          "prompt": "翻訳精度検証と文化的適応（記憶対応）",
          "temperature": 0.4
        },
        {
          "features": [
            "emotionAnalysis",
            "conversationStructure",
            "salesTechniqueIdentification",
            "memoryIntegration"
          ],
          "maxTokens": 2500,
          "memoryContext": {
            "conversationHistory": true,
            "improvementPatterns": true,
            "performanceMetrics": true
          },
          "model": "Claude 3 Opus",
          "name": "SalesRoleplayAnalysisWithMemory",
          "prompt": "営業会話の感情・構造分析（記憶対応）",
          "temperature": 0.6
        }
      ],
      "description": "セッション記憶対応のプロンプト連携システム",
      "memoryEnabled": true,
      "memorySettings": {
        "autoCleanup": true,
        "contextWindow": 10,
        "memoryCompression": true,
        "memoryTypes": [
          "conversationHistory",
          "userPreferences",
          "performanceMetrics",
          "stylePatterns",
          "errorPatterns"
        ],
        "sessionRetention": "7days"
      },
      "prompts": {
        "deepResearch": {
          "description": "深い研究分析とファクトチェック（記憶対応）",
          "file": ".cursor/prompts/deep-research.md"
        },
        "salesRoleplayAnalysis": {
          "description": "営業会話分析（記憶対応）",
          "file": ".cursor/prompts/sales-roleplay-analysis.md"
        },
        "translationCheck": {
          "description": "翻訳精度検証（記憶対応）",
          "file": ".cursor/prompts/translation-check.md"
        }
      },
      "sessionTracking": true,
      "settings": {
        "defaultMaxTokens": 3000,
        "defaultTemperature": 0.5,
        "memoryEnabled": true,
        "qualityThreshold": 0.8,
        "retryAttempts": 3,
        "timeoutSeconds": 60
      },
      "title": "メモリ対応論文検証＆原稿生成Composer",
      "version": "2.1.0",
      "workflows": [
        {
          "description": "学術論文からYouTube原稿生成（記憶対応）",
          "name": "AcademicToYouTubeWithMemory",
          "steps": [
            {
              "chain": "DeepResearchWithMemory",
              "input": "paperMetadata",
              "memoryKey": "research_verification",
              "output": "verifiedContent"
            },
            {
              "chain": "SummarySimplifierWithMemory",
              "input": "verifiedContent",
              "memoryKey": "content_simplification",
              "output": "simplifiedContent"
            },
            {
              "chain": "TranslationCheckWithMemory",
              "input": "simplifiedContent",
              "memoryKey": "translation_verification",
              "output": "finalScript"
            }
          ]
        },
        {
          "description": "営業会話のパフォーマンス分析（記憶対応）",
          "name": "SalesPerformanceAnalysisWithMemory",
          "steps": [
            {
              "chain": "SalesRoleplayAnalysisWithMemory",
              "input": "conversationData",
              "memoryKey": "sales_analysis",
              "output": "analysisReport"
            }
          ]
        }
      ]
    },
    "project-rules.json": {
      "agents": {
        "claude": {
          "model": "claude-3-5-sonnet-20241022",
          "role": "ハルシネ検出、文法調整、出力形式の統一と仕上げ",
          "strengths": [
            "事実確認",
            "品質保証",
            "細かい調整"
          ],
          "tasks": [
            "事実検証",
            "品質チェック",
            "最終調整"
          ]
        },
        "gpt-4": {
          "model": "gpt-4",
          "role": "ハルシネ検出、文法調整、出力形式の統一と仕上げ",
          "strengths": [
            "創造性",
            "多様性",
            "実用性"
          ],
          "tasks": [
            "表現改善",
            "エンゲージメント向上",
            "視聴者向け調整"
          ]
        },
        "groq": {
          "model": "llama3-70b-8192",
          "role": "論文の要約、構成作成、骨組み案出し",
          "strengths": [
            "高速処理",
            "大規模コンテキスト",
            "論理的思考"
          ],
          "tasks": [
            "研究要約",
            "構造化",
            "初期原稿生成"
          ]
        }
      },
      "description": "研究論文からYouTube原稿を自動生成する高度なAIシステム",
      "error_handling": {
        "fallback_enabled": true,
        "graceful_degradation": true,
        "max_retries": 3,
        "timeout_seconds": 30
      },
      "mcp_integrations": [
        "Opik",
        "GitHub",
        "Apidog"
      ],
      "model_routing": {
        "fallback": "claude",
        "primary": "groq",
        "quality_check": "gpt-4",
        "routing_rules": {
          "fact_checking": "claude",
          "final_polish": "claude",
          "initial_generation": "groq",
          "style_refinement": "gpt-4"
        }
      },
      "output_rules": {
        "format": "構成: テーゼ-アンチテーゼ-ジンテーゼ / セクション毎に見出しをつける",
        "language": "日本語",
        "structure": {
          "call_to_action": "視聴者へのアクション呼びかけ",
          "conclusion": "まとめと今後の展望",
          "hook": "視聴者の興味を引く導入",
          "introduction": "研究背景と目的の説明",
          "main_content": "研究結果と分析"
        },
        "style": "口語・論理・専門性のバランスを保つ"
      },
      "purpose": "音声AIロープレ＋論文原稿生成",
      "quality_standards": {
        "citation_accuracy": 0.9,
        "confidence_score": 0.7,
        "engagement_score": 0.6,
        "factual_accuracy": 0.95,
        "readability_score": 0.7,
        "structure_score": 0.8
      },
      "safety_checks": {
        "content_moderation": true,
        "financial_content": true,
        "medical_content": true,
        "psychological_content": true,
        "require_disclaimers": true
      },
      "version": "2.0.0"
    }
  },
  "git_status": {
    "branch": "master",
    "commit_hash": "e22097208eb270319dff3d328232fdfe18cfc7c0",
    "status_details": "M memory/cursor_state.json\n M memory/mcp_snapshot.json\n?? memory/snapshots/mcp_snapshot_20250809_100358.json\n?? memory/snapshots/mcp_snapshot_20250809_100425.json\n?? memory/snapshots/mcp_snapshot_20250809_101922.json\n?? memory/snapshots/mcp_snapshot_20250809_101942.json\n?? memory/snapshots/mcp_snapshot_20250809_102231.json\n?? memory/snapshots/mcp_snapshot_20250809_102249.json\n?? memory/snapshots/mcp_snapshot_20250809_103421.json\n?? memory/snapshots/mcp_snapshot_20250809_103437.json\n?? memory/snapshots/mcp_snapshot_20250809_103744.json\n?? memory/snapshots/mcp_snapshot_20250809_103802.json\n?? memory/snapshots/mcp_snapshot_20250809_104012.json",
    "uncommitted_changes": 13
  },
  "project_structure": {
    "app": {
      "exists": true,
      "python_files": 41,
      "total_files": 60
    },
    "config": {
      "exists": true,
      "python_files": 0,
      "total_files": 13
    },
    "modules": {
      "exists": true,
      "python_files": 2,
      "total_files": 5
    },
    "paper_research_system": {
      "exists": true,
      "python_files": 32,
      "total_files": 44
    },
    "scripts": {
      "exists": true,
      "python_files": 54,
      "total_files": 91
    }
  },
  "session_purpose": "post-commit",
  "state_hash": "a6ff73d412fbcdbc6f913b3d1ddedfab",
  "system_status": {
    "cursor_configs_count": 14,
    "main_hybrid_running": true,
    "python_files_count": 248468
  },
  "timestamp": "2025-08-09T10:40:20.184245"
}
