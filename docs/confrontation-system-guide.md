# 📊 サボり検知・突きつけシステム ガイド

## 🎯 概要

このシステムは「人はサボる生き物」という前提のもと、ロールプレイをサボっているユーザーを検知し、効果的に行動を促すための機能群です。

## 🔍 主要機能

### 1. サボり検知システム
- **活動追跡**: 最後のロールプレイ日時、連続実行日数、総セッション数
- **自動判定**: 5段階のサボり度判定（excellent → good → warning → danger → critical）
- **損失計算**: 逃した機会、無駄にした時間、スキル劣化リスク

### 2. 突きつけレポート機能
- **個人面談用**: 詳細な活動状況と改善提案
- **管理ダッシュボード**: 全ユーザーのサボり状況一覧
- **エスカレーション**: 長期サボりユーザーへの強化通知

### 3. 恥辱通知システム
- **マルチチャンネル**: メール、Slack、Discord等での通知
- **段階的強化**: 通常リマインダー → 警告 → 最終警告
- **個別メッセージ**: ユーザーごとのカスタマイズ

## 📈 サボり度判定基準

| レベル | 日数 | 状態 | 対応 |
|--------|------|------|------|
| **excellent** | 0日 | 優秀 | 称賛・継続支援 |
| **good** | 1-2日 | 良好 | 軽いリマインダー |
| **warning** | 3-7日 | 警告 | 積極的なフォロー |
| **danger** | 8-14日 | 危険 | 面談・介入検討 |
| **critical** | 15日+ | 重大 | 緊急介入・上司報告 |

## 🔧 API エンドポイント

### サボり機能の制御
```bash
# サボり機能を有効化（本気の人向け）
POST /api/reminder/shame-system/{user_id}/enable

# サボり機能を無効化（プレッシャー軽減）
POST /api/reminder/shame-system/{user_id}/disable

# サボり機能の状態確認
GET /api/reminder/shame-system/{user_id}/status
```

### 個人ユーザー向け
```bash
# ユーザーの活動統計取得
GET /api/reminder/stats/{user_id}

# サボり突きつけレポート（面談用）
GET /api/reminder/confrontation/{user_id}
```

### 管理者向け
```bash
# 全ユーザー活動レポート
GET /api/reminder/admin/all-users-report

# 恥辱通知送信
POST /api/reminder/shame-notification/{user_id}
```

## 💡 面談での活用方法

### 1. 事前準備
```bash
# 面談前にレポート取得
curl -X GET "http://localhost:8000/api/reminder/confrontation/user123"
```

### 2. 面談中の提示
- **具体的数字**: 「X日間サボっています」
- **損失の可視化**: 「Y分の成長機会を逃しました」
- **競合比較**: 「他社は毎日スキルアップしています」
- **改善提案**: 具体的なアクションプラン

### 3. フォローアップ
```bash
# 恥辱通知送信（面談後）
curl -X POST "http://localhost:8000/api/reminder/shame-notification/user123" \
     -F "channels=[\"email\",\"slack\"]"
```

## 🎯 効果的な突きつけ方法

### Do's ✅
- **具体的な数字を使用**: 「15日間サボっています」
- **損失を定量化**: 「450分の成長機会を逃失」
- **競合との比較**: 「他社に確実に遅れています」
- **将来リスクの明示**: 「キャリアに重大な影響」

### Don'ts ❌
- 感情的な非難は避ける
- 曖昧な表現を使わない
- 改善案なしで終わらない
- 継続支援を忘れない

## 📊 ダッシュボード活用

### 管理者ダッシュボード
```bash
GET /api/reminder/dashboard
```

**表示項目**:
- スケジューラー状態
- リマインダー対象者数
- エスカレーション対象者
- システム全体の健康状態

### 全ユーザーレポート
```bash
GET /api/reminder/admin/all-users-report
```

**ソート順**: サボり度の深刻な順
**重要指標**:
- `slacking_rate`: 全体のサボり率
- `critical_users`: 緊急介入が必要なユーザー数
- `needs_intervention`: 面談が必要なユーザー

## 🚨 エスカレーション戦略

### 段階1: 通常リマインダー（1-3日）
- 優しい口調でのメール通知
- 習慣継続の重要性を強調

### 段階2: 警告通知（4-7日）
- より直接的な表現
- 具体的な損失の提示

### 段階3: 最終警告（8-14日）
- 厳しい口調での通知
- キャリアへの影響を明示
- 上司への報告を示唆

### 段階4: 緊急介入（15日+）
- 面談の強制実施
- 上司・人事への報告
- 改善計画の策定

## 🔄 継続的改善

### 効果測定
- サボり率の推移
- 面談後の行動変化
- システム利用率の向上

### フィードバック活用
- ユーザーからの反応
- 面談での気づき
- 通知効果の分析

## 🎛️ サボり機能のオンオフ制御

### 📝 基本方針
- **デフォルト**: サボり機能は**無効**（優しいモード）
- **本気の人**: 自分でサボり機能を**有効化**（厳しいモード）
- **プレッシャー回避**: いつでも**無効化**可能

### 🎯 使い分け

#### 😌 優しいモード（無効時）
- **対象**: プレッシャーに弱い人、初心者
- **機能**: 基本的なレポートのみ
- **通知**: 「X日経過しています」程度
- **メリット**: ストレスなく継続可能

#### 🔥 本気モード（有効時）
- **対象**: 本気でスキル向上したい人
- **機能**: 厳しい突きつけ + エスカレーション
- **通知**: 「サボっています！」「競合に負けます！」
- **メリット**: 強い動機づけ効果

### 🔧 設定方法

#### 管理者による設定
```bash
# 本気の人にサボり機能を有効化
curl -X POST "http://localhost:8000/api/reminder/shame-system/user123/enable"

# プレッシャーを感じる人は無効化
curl -X POST "http://localhost:8000/api/reminder/shame-system/user123/disable"

# 現在の状態確認
curl -X GET "http://localhost:8000/api/reminder/shame-system/user123/status"
```

#### 面談での活用
1. **ユーザーの性格診断**
   - プレッシャーに強い → 有効化推奨
   - 慎重派・ストレス敏感 → 無効化推奨

2. **段階的アプローチ**
   - 最初は無効で様子見
   - 慣れてきたら「本気モードにしませんか？」
   - 効果を実感したユーザーは継続

3. **選択の自由**
   - ユーザー自身が決められる
   - いつでも変更可能
   - 強制はしない

### 📊 効果的な運用

#### Phase 1: 導入期（全員無効）
- ユーザーにシステムに慣れてもらう
- 基本的なレポート機能で価値を実感
- 信頼関係を構築

#### Phase 2: 選択期（希望者のみ有効）
- 「もっと厳しく管理したい人は？」
- 自発的な申し出を待つ
- 成功事例を共有

#### Phase 3: 拡大期（効果実証）
- 有効化ユーザーの成果を公開
- 「あの人みたいになりたい」心理を活用
- 段階的に有効化を促進

## ⚠️ 注意事項

### プライバシー配慮
- 個人データの適切な管理
- 通知内容の機密性確保
- 第三者への情報漏洩防止

### 人事的配慮
- パワハラにならない範囲での実施
- 建設的な改善支援が目的
- 懲罰ではなく成長支援として位置づけ

---

## 🎯 まとめ

このシステムにより、サボっているユーザーを：
1. **客観的に検知**できます
2. **具体的に突きつける**ことができます  
3. **効果的に行動変容**を促せます
4. **継続的にフォロー**できます

「人はサボる生き物」だからこそ、システムでしっかりと支援し、営業スキル向上を促進していきます。 